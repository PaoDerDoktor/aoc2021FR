# --- Jour 17 : Joli Tir ---

Vous décodez enfin le message des elfes. ``YO``, dit-il. Cous continuez de chercher les clefs du traîneau.

Plus loin se trouve ce qui semble être une grande [fosse océanique](https://fr.wikipedia.org/wiki/Fosse_oc%C3%A9anique). Peut-être que les clefs sont tombées dedans ? Vous feriez mieux d'envoyer une sonde pour enquêter.

Le lanceur de sonde de votre sous-marin peut envoyer une sonde avec n'importe quelle vélocité [entière](https://fr.wikipedia.org/wiki/Entier_relatif) dans les directions `x` (vers l'avant) et `y` (vers le haut, ou vers le bas si négative). Par exemple, une vélocité``x, y`` initiale de ``0, 10`` enverrais la sonde tout droit vers le haut, tandis qu'une vélocité initiale de ``10, -1`` enverrait la sonde à un angle un tout petit peu orienté vers le bas.

La position ``x, y`` de la sonde commence à ``0, 0``. Ensuite, elle suis une trajectoire *pas-à-pas*. À chaque pas, tout ceci se passe dans cet ordre :

- La position `x` de la sonde est augmenté par sa vélocité `x`.
- La position `y` de la sonde est augmenté par sa vélocité `y`.
- À cause de la friction, la vélocité `x` de la sonde s'approche de `1` vers la valeur `0`; c'est-à-dire qu'elle décroît de `1` si elle est plus grande que `0`, qu'elle augmente de `1` si elle est plus petite que `0`, ou qu'elle ne bouge pas si elle est déjà égale à `0`.
- À cause de la gravité, la vélocité `y` de la sonde décroît de `1`.

Pour que la sonde finisse bien dans la fosse, elle doit suivre une trajectoire qui l'emmènera dans la *zone cible* à n'importe quel pas. L'ordinateur du sous-marin a déjà calculé cette zone (l'entrée de votre puzzle). Par exemple :

```targetArea
target area: x=20..30, y=-10..-5
```

Cette zone cible signifie que vous devrez trouver des vélocités `x, y` initiales permettant qu'à l'un de ses pas, la position `x` de la sonde soit d'au moins `20` et d'au plus `30` *et* que sa position `y` soit d'au moins `-10` et d'au plus `-5`.

Étant donnée cette zone cible, une vélocité initiale qui amène la sonde à être dans cette zone cible après un pas est ``7,2`` :

```trickShot
.............#....#............
.......#..............#........
...............................
S........................#.....
...............................
...............................
...........................#...
...............................
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTT#TT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
```

Dans ce diagramme, `S` est la position initiale de la sonde, `0, 0`. La coordonnée `x` augmente vers la droite, et la coordonnée `y` augmente vers le haut. Dans le coin inférieur-droit, les positions à l'intérieur de la zone cible sont marquées d'un `T`. Après chaque pas (jusqu'à ce que la zone soit atteinte), la position de la sonde est marquée d'un `#` (le `#` inférieur-droit est à la fois une position atteinte par la sonde et une position de la zone cible).

Une autre vélocité initiale amenant la sonde à se trouver dans la zone cible après l'un de ses pas est ``6, 3`` :

```trickShot
...............#..#............
...........#........#..........
...............................
......#..............#.........
...............................
...............................
S....................#.........
...............................
...............................
...............................
.....................#.........
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................T#TTTTTTTTT
....................TTTTTTTTTTT
```

Une autre est ``9, 0`` :

```trickShot
S........#.....................
.................#.............
...............................
........................#......
...............................
....................TTTTTTTTTTT
....................TTTTTTTTTT#
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
....................TTTTTTTTTTT
```

Une vélocité initiale qui *n'amène pas* la sonde à se trouver dans la zone cible après l'un de ses pas est ``17, -4`` :

```trickShot
S..............................................................
...............................................................
...............................................................
...............................................................
.................#.............................................
....................TTTTTTTTTTT................................
....................TTTTTTTTTTT................................
....................TTTTTTTTTTT................................
....................TTTTTTTTTTT................................
....................TTTTTTTTTTT..#.............................
....................TTTTTTTTTTT................................
...............................................................
...............................................................
...............................................................
...............................................................
................................................#..............
...............................................................
...............................................................
...............................................................
...............................................................
...............................................................
...............................................................
..............................................................#
```

La sonde semble passer dans la zone cible, mais n'est jamais dedans après l'un de ses pas. À la place, elle continue vers le bas et vers la droite - seuls les quelques premiers pas sont montrés.

puisque vous allez lancer une sonde super scientifique d'un lanceur de sonde super cool, autant le faire avec *style*. À quelle hauteur maximum pouvez-vous lancer la sonde tout en atteignant quand même la zone cible ?

Dans l'exemple ci-dessus, utiliser une vélocité de ``6, 9`` est la meilleure manière de faire, puisque la sonde atteint une position `y` maximum de *`45`* (une vélocité `y` initiale plus haute ferait manquer la zone à la sonde).

Trouvez la vélocité initiale qui mène la sonde à atteindre la plus haute position `y` possible tout en atteignant quand même la zone cible après l'un de ses pas. *Quelle est la plus grande position `y` atteinte pendant cette trajectoire ?*
